/**
 * 
 */
package com.metarnet.hc.net;

import java.io.IOException;
import java.io.OutputStream;
import java.io.PrintWriter;
import java.net.Socket;
import java.util.ArrayList;
import java.util.List;

import com.metarnet.hc.model.AlarmModel;
import com.metarnet.hc.model.AlmMsg;
import com.metarnet.hc.model.SnUnit;

/**
 * @author liuhy
 *
 */
public class SenderTest {

	public static void testSync() throws Exception, IOException{
		Socket socket = new Socket("192.168.90.127", 8081);
		PrintWriter os=new PrintWriter(socket.getOutputStream());
		os.print("{\"total\":\"1\",\"id\":\"001\",\"index\":1,\"alms\":[{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"2\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"10\",\"neno\":\"976(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1373333327000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"11\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"alarmnetime\":1378288120000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"11\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"alarmnetime\":1378288119000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=2/vt2_tu12-k=1-l=4-m=3;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"10\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=2/vt2_tu12-k=1-l=4-m=3;\",\"alarmnetime\":1373510933000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"10\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"alarmnetime\":1373510933000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=2/vt2_tu12-k=1-l=4-m=3;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"10\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=2/vt2_tu12-k=1-l=4-m=3;\",\"alarmnetime\":1373510932000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"10\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=4-m=1;\",\"alarmnetime\":1373510932000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=2;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"11\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"AU-AIS[-]/sts3c_au4-j=2;\",\"alarmnetime\":1373510931000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(AU-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"10\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"972(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"HP-UNEQ[-]/sts3c_au4-j=4;\",\"alarmnetime\":1373510931000,\"alarmemstime\":0,\"alarmcause\":\"通道未装载(HP-UNEQ)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"5\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"928(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"HP-UNEQ[-]/sts3c_au4-j=4;\",\"alarmnetime\":1372230595000,\"alarmemstime\":0,\"alarmcause\":\"通道未装载(HP-UNEQ)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1\",\"snunit\":{\"slotno\":\"2\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"928(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1314070134000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"928(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"AU-AIS[-]/sts3c_au4-j=4;\",\"alarmnetime\":1363837464000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(AU-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"5\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"926(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"HP-UNEQ[-]/sts3c_au4-j=4;\",\"alarmnetime\":1372230582000,\"alarmemstime\":0,\"alarmcause\":\"通道未装载(HP-UNEQ)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1\",\"snunit\":{\"slotno\":\"2\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"926(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1314441582000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"926(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"AU-AIS[-]/sts3c_au4-j=4;\",\"alarmnetime\":1319086081000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(AU-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"4\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"10\",\"neno\":\"787(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/vt2_tu12=1;\",\"alarmnetime\":1363086464000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"2\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"10\",\"neno\":\"785(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/vt2_tu12=1;\",\"alarmnetime\":1363086681000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1\",\"snunit\":{\"slotno\":\"24\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"783(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1354269415000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"4\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"10\",\"neno\":\"781(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1356416264000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]4[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"unknown\",\"snunit\":{\"slotno\":\"4\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"\",\"neno\":\"718(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"Board Type Mismatch\",\"alarmnetime\":1378382624000,\"alarmemstime\":0,\"alarmcause\":\"板类型失配\",\"alarmlevel\":161,\"restype\":10005,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]5[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"NCP\",\"snunit\":{\"slotno\":\"1\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"\",\"neno\":\"718(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"Unknown\",\"alarmnetime\":1378382595000,\"alarmemstime\":0,\"alarmcause\":\"风扇故障2\",\"alarmlevel\":164,\"restype\":10005,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]5[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"NCP\",\"snunit\":{\"slotno\":\"1\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"\",\"neno\":\"718(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"Unknown\",\"alarmnetime\":1378382595000,\"alarmemstime\":0,\"alarmcause\":\"风扇故障\",\"alarmlevel\":164,\"restype\":10005,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1-4M\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"716(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1350024966000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1-4M\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"716(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1350024966000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1-4M\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"716(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1350024965000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"9\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"715(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1369727605000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"9\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"4\",\"neno\":\"714(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PPI-AIS\",\"alarmnetime\":1378003893000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(PPI-AIS)\",\"alarmlevel\":163,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"9\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"714(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1369814255000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"9\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"713(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1369795660000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"3\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"7\",\"neno\":\"712(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1377418201000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"nativeemsname\":\"OL1\",\"snunit\":{\"slotno\":\"12\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"710(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"alarmnetime\":1362888620000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"nativeemsname\":\"OL1\",\"snunit\":{\"slotno\":\"12\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"710(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"alarmnetime\":1362888620000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"3\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"21\",\"neno\":\"708(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-TIM[-]/vt2_tu12=1;\",\"alarmnetime\":1292065471000,\"alarmemstime\":0,\"alarmcause\":\"跟踪标识失配(LP-TIM)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"13\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"7\",\"neno\":\"706(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"Unknown[-]/vt2_tu12=1;\",\"alarmnetime\":1354428763000,\"alarmemstime\":0,\"alarmcause\":\"不可用秒开始(UAS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"13\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"7\",\"neno\":\"706(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/vt2_tu12=1;\",\"alarmnetime\":1354428756000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]4[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"unknown\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"\",\"neno\":\"705(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"Board Type Mismatch\",\"alarmnetime\":1368696257000,\"alarmemstime\":0,\"alarmcause\":\"板类型失配\",\"alarmlevel\":161,\"restype\":10005,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"7\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"703(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LOF\",\"alarmnetime\":1378181312000,\"alarmemstime\":0,\"alarmcause\":\"帧丢失(LOF)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"7\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"703(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1378181302000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"4\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"3\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1375099813000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LOS\",\"alarmnetime\":1314520818000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=3-m=1;\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=3-m=1;\",\"alarmnetime\":1314520795000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=3;\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=3;\",\"alarmnetime\":1314520795000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"alarmnetime\":1314520795000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=3;\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"7\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=3;\",\"alarmnetime\":1353993001000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"7\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-AIS[-]/sts3c_au4-j=1/vt2_tu12-k=1-l=2-m=2;\",\"alarmnetime\":1356406054000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(LP-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"702(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1314421880000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LOF\",\"alarmnetime\":1364880771000,\"alarmemstime\":0,\"alarmcause\":\"帧丢失(LOF)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"13\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"10\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1349858742000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"3\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"11\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"Unknown[-]/vt2_tu12=1;\",\"alarmnetime\":1354078829000,\"alarmemstime\":0,\"alarmcause\":\"不可用秒开始(UAS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"3\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"6\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"LP-TIM[-]/vt2_tu12=1;\",\"alarmnetime\":1299902322000,\"alarmemstime\":0,\"alarmcause\":\"跟踪标识失配(LP-TIM)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"1\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"10\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PDH-LOS\",\"alarmnetime\":1369898587000,\"alarmemstime\":0,\"alarmcause\":\"信号丢失(PDH-LOS)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL16\",\"snunit\":{\"slotno\":\"5\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"AU-AIS[-]/sts3c_au4-j=4;\",\"alarmnetime\":1363837456000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(AU-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/sts3c_au4-j=4;\",\"nativeemsname\":\"OL4\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"HP-UNEQ[-]/sts3c_au4-j=4;\",\"alarmnetime\":1356683654000,\"alarmemstime\":0,\"alarmcause\":\"通道未装载(HP-UNEQ)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1\",\"snunit\":{\"slotno\":\"2\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1314502704000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL4\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1314502704000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL4\",\"snunit\":{\"slotno\":\"6\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"2\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1314502704000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"ET1\",\"snunit\":{\"slotno\":\"1\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"12\",\"neno\":\"223(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"PPI-AIS\",\"alarmnetime\":1377843912000,\"alarmemstime\":0,\"alarmcause\":\"告警指示信号(PPI-AIS)\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"24\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1364880767000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]\",\"nativeemsname\":\"OL1S\",\"snunit\":{\"slotno\":\"27\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"1\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"DCC Connection Failure\",\"alarmnetime\":1364880767000,\"alarmemstime\":0,\"alarmcause\":\"DCC连接失败\",\"alarmlevel\":162,\"restype\":10006,\"probename\":\"\"},{\"blob\":\"ALARM_TYPE[-STTR-]1[-RECORD-]CTP_NAME[-STTR-]/vt2_tu12=1;\",\"nativeemsname\":\"EP1\",\"snunit\":{\"slotno\":\"3\",\"subslotno\":\"\",\"sysno\":\"ZTE/haixi\",\"shelfno\":\"1\",\"cardno\":\"1\",\"portno\":\"11\",\"neno\":\"701(P)\",\"subshelfno\":\"\"},\"alarmdesc\":\"TU-LOP[-]/vt2_tu12=1;\",\"alarmnetime\":1354078820000,\"alarmemstime\":0,\"alarmcause\":\"指针丢失(TU-LOP)\",\"alarmlevel\":161,\"restype\":10006,\"probename\":\"\"}],\"domain\":\"ZTE/haixi1\",\"type\":\"sync\"}\r\n");
		os.flush();
		os.close();
		socket.close();
	}
	
	public static void testRt(){
		AlmMsg msg = new AlmMsg();
		msg.setDomain("ZTE/haixi");
		msg.setId("1");
		msg.setIndex(1);
		msg.setTotal(1);
		msg.setType("rt");
		
		List<AlarmModel> alms = new ArrayList<AlarmModel>();
		AlarmModel am = new AlarmModel();
		am.setAlarmcause("信号丢失(PDH-LOS)");
		am.setAlarmdesc("PDH-LOS");
		am.setAlarmemstime("0");
		am.setAlarmnetime("1373333327000");
		am.setAlarmlevel("162");
		am.setRestype("10006");
		SnUnit sn = new SnUnit();
		sn.setSysno("ZTE/haixi");
		sn.setNeno("976(P)");
		sn.setShelfno("1");
		sn.setSlotno("1");
		sn.setCardno("1");
		sn.setPortno("2");
		am.setSnunit(sn);
		alms.add(am);
		msg.setAlms(alms);
		
//		for(int i=0; i<5; i++)
		SenderFactory.getInstance().getSender().send(msg);
	}
	
	public static void testThreads() throws Exception, IOException{
		Socket socket = new Socket("192.168.90.127", 8081);
		final OutputStream out = socket.getOutputStream();
		
		Thread th1 = new Thread(new Runnable() {
			
			@Override
			public void run() {
				while(true){
					try {
						out.write("11111\r\n".getBytes());
					} catch (IOException e) {
						e.printStackTrace();
					}
				}
				
			}
		});
		
		Thread th2 = new Thread(new Runnable() {
			
			@Override
			public void run() {
				while(true){
					try {
						out.write("22222\r\n".getBytes());
					} catch (IOException e) {
						e.printStackTrace();
					}
				}
				
			}
		});
		
		th1.start();
		th2.start();
	}
	
	public static void main(String[] args){
		try {
			testSync();
//			testThreads();
		} catch (IOException e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		} catch (Exception e) {
			// TODO Auto-generated catch block
			e.printStackTrace();
		}
	}
	
}
